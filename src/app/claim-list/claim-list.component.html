<section class="page-container">
    <h1>Claim List</h1>

    <div class="toggle-container">
        <label class="toggle-label">Search By:</label>
        <label class="toggle-switch">
            <input type="checkbox" [(ngModel)]="isSearchByPolicyId" (change)="onSearch()" />
            <span class="slider">
                <span class="toggle-text">Claim ID</span>
                <span class="toggle-text">Policy ID</span>
            </span>
        </label>
    </div>
    <div class="search-container">
        <input type="text" class="search-bar" placeholder="Search..." [(ngModel)]="searchText" (input)="onSearch()" />
    </div>

    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Claim ID</th>
                    <th>Policy ID</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                @if (displayClaimList.length === 0) {
                <td colspan="3" class="no-data">No Data Exists</td>
                }
                @for (claim of displayClaimList; track claim.claimId) {
                <tr>
                    <td>{{ claim.claimId }}</td>
                    <td>{{ claim.policyId }}</td>
                    <td>{{ claim.status }}</td>
                </tr>
                }
            </tbody>
        </table>
        <div class="pagination">
            <button class="page-btn" [disabled]="page === 1" (click)="onPagination(page - 1)">Previous</button>
            @for (p of visiblePages; track p) {
            <button class="page-btn" [class.active]="page === p" (click)="onPagination(p)">{{ p }}</button>
            }
            <button class="page-btn" [disabled]="page === totalPages" (click)="onPagination(page + 1)">Next</button>
        </div>
    </div>
</section>